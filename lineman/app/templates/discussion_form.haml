%form{name: 'discussionForm', ng_submit: 'submit()'}
  .modal-header
    %button{type: 'button', class: 'close', ng-click: 'cancel($event)'}
      %span{aria-hidden: true} &times;
      %span.sr-only{translate: 'common.action.cancel'}
    %h1.modal-title{translate: 'discussion_form.new_discussion_title', ng_show: 'discussion.isNew()'}
    %h1.modal-title{translate: 'discussion_form.edit_discussion_title', ng_hide: 'discussion.isNew()'}

  .modal-body
    .form-group
      %label{for: 'discussion-title-field', translate: 'discussion_form.title_label'}
      %input#discussion-title-field.form-control{placeholder: "{{ 'discussion_form.title_placeholder' | translate }}", ng-model: 'discussion.title', ng-required: 'true'}

    .form-group
      %label{for: 'discussion-context-field', translate: 'discussion_form.context_label'}
      %textarea#discussion-context-field.form-control{ng-model: 'discussion.description', placeholder: "{{ 'discussion_form.context_placeholder' | translate }}"}

    .form-group{ng_show: 'discussion.isNew()'}
      .privacy-form{ng_show: 'discussion.groupHasFlexibleDiscussionPrivacy()'}
        .privacy-form-option
          %input{type: 'radio', ng-model: 'private', value: 'true'}
          %label{translate: 'common.state.public' }
        .privacy-form-option
          %input{type: 'radio', ng-model: 'private', value: 'false'}
          %label{translate: 'common.state.private'} 
      .privacy-notice{ng_hide: 'discussion.groupHasFlexibleDiscussionPrivacy()'}
        .public-discussion{ng_show: 'discussion.groupAllowsPublicDiscussions()'}
          IS PUBLIC
        .private-discussion{ng_hide: 'discussion.groupAllowsPublicDiscussions()'}
          IS PRIVATE

  .modal-footer
    %button.btn.btn-primary{type: 'submit', translate: 'discussion_form.new_discussion_submit', ng_show: 'discussion.isNew()' }
    %button.btn.btn-primary{type: 'submit', translate: 'discussion_form.edit_discussion_submit', ng_hide: 'discussion.isNew()' }
    %button.btn.btn-warning{ng-click: 'cancel($event)', translate: 'common.action.cancel'}
